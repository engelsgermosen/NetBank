@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Adminitracion de usuarios";
}

@using NetBank.Core.Application.Enums
@using NetBank.Core.Application.ViewModels.User;
@model List<UserViewModel>;

<div class="container-fluid">
    <div class="row">
        <div class="col-12 col-10 mx-auto mt-4">
            <h4 class="text-center">Administracion de usuarios</h4>

            <div class="row">
                <div class="col-12 ">
                    <a asp-action="Register" asp-controller="User" class="btn btn-outline-primary text-dark float-end">Crear usuario</a>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <table class="table table-bordered">
                        <thead>
                            <tr>Nombre</tr>
                            <tr>Apellido</tr>
                            <tr>Cedula</tr>
                            <tr>Correo</tr>
                            <tr>IsActive</tr>
                            <tr>Rol</tr>
                            <tr>Action</tr>
                        </thead>
                        <tbody>
                            
                            @if(Model.Count == 0 || Model == null)
                            {
                                <h4>No hay usuarios en el sistema</h4>
                            }
                            else
                            {
                                @foreach(var usuario in Model)
                                {
                                    <tr>
                                        <td>@usuario.Name</td>
                                        <td>@usuario.LastName</td>
                                        <td>@usuario.Identification</td>
                                        <td>@usuario.Email</td>
                                        <td class="@(usuario.IsActive ? "bg-success":"bg-danger")">@(usuario.IsActive ? "Activo":"Inactivo")</td>
                                        <td class="@(usuario.Rol == (int)Roles.Admin ? "bg-primary":"bg-success")">@(usuario.Rol == (int)Roles.Admin ? "Administrador" : "Cliente")</td>
                                        <td>
                                            <a>Inativar</a>
                                        </td>
                                    </tr>
                                }
                            }

                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
</div>
